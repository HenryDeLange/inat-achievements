!function(){"use strict";var n={d:function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}},e={};function t(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function o(n,e){var o="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!o){if(Array.isArray(n)||(o=function(n,e){if(n){if("string"===typeof n)return t(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(n,e):void 0}}(n))||e&&n&&"number"===typeof n.length){o&&(n=o);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){o=o.call(n)},n:function(){var n=o.next();return l=n.done,n},e:function(n){u=!0,a=n},f:function(){try{l||null==o.return||o.return()}finally{if(u)throw a}}}}function r(n){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}function i(n){var e=function(n,e){if("object"!==r(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===r(e)?e:String(e)}function a(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,i(o.key),o)}}n.d(e,{evaluate:function(){return De},getAchievementWrappers:function(){return we},reset:function(){return xe}});var l=function(){function n(e,t,o,r,i){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.data=void 0,this.getTaxa=void 0,this.evalFunc=void 0,this.resetFunc=void 0,this.data={icon:e,title:"achievement".concat(e,"Title"),details:"achievement".concat(e,"Details"),goal:t,count:0,observations:[]},this.getTaxa=o,this.evalFunc=r,this.resetFunc=i}var e,t,o;return e=n,(t=[{key:"getData",value:function(){return this.data}},{key:"evaluate",value:function(n,e){var t,o=this.evalFunc(n,e);o>0&&this.updateCount(null!==(t=n.id)&&void 0!==t?t:0,o)}},{key:"updateCount",value:function(n,e){this.data.count=this.data.count+e,this.data.observations.push(n)}},{key:"reset",value:function(){this.data.count=0,this.data.observations=[],this.resetFunc&&this.resetFunc()}}])&&a(e.prototype,t),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),n}(),u=[6544,11853,559244,5362,5425,5391,5400],d=new l("AirLovers",30,(function(){return u}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(u.includes(a))return 1}}catch(l){i.e(l)}finally{i.f()}return 0})),v=!1,c=!1,s=!1,f=!1,y=new l("AllCorners",4,(function(){return[]}),(function(n){if(n.geojson&&n.geojson.coordinates){var e=parseFloat(n.geojson.coordinates[0]),t=parseFloat(n.geojson.coordinates[1]);if(!v&&t>0&&e<0)return v=!0,1;if(!c&&t>0&&e>0)return c=!0,1;if(!s&&t<0&&e<0)return s=!0,1;if(!f&&t<0&&e>0)return f=!0,1}return 0}),(function(){v=!1,c=!1,s=!1,f=!1})),h=10;function m(n,e,t,o){if(n===t&&e===o)return 0;var r=Math.PI*n/180,i=Math.PI*t/180,a=e-o,l=Math.PI*a/180,u=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos(l);return u>1&&(u=1),u=60*(u=180*(u=Math.acos(u))/Math.PI)*1.1515,u*=1.609344}var p=new Date(Date.UTC(1980,1,1)).toISOString().split("T")[0],g=0,b=0,_=new l("AlwaysOn",120,(function(){return[]}),(function(n){var e,t,o=null!==(e=null===n||void 0===n||null===(t=n.observed_on_details)||void 0===t?void 0:t.date)&&void 0!==e?e:p,r=new Date(Number(p.substring(0,4)),Number(p.substring(5,7)),Number(p.substring(8,10))),i=new Date(Number(o.substring(0,4)),Number(o.substring(5,7)),Number(o.substring(8,10)));return Math.ceil(Math.abs(r.getTime()-i.getTime())/864e5)>=5&&(g=0),p!==o&&(g++,p=o),b<g?(b=g,1):0}),(function(){p=new Date(Date.UTC(1980,1,1)).toISOString().split("T")[0],g=0,b=0})),w=(Math.pow(10,8),36e5);function x(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function D(n){if(null===n||!0===n||!1===n)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function N(n,e){var t;x(1,arguments);var o=D(null!==(t=null===e||void 0===e?void 0:e.additionalDigits)&&void 0!==t?t:2);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof n&&"[object String]"!==Object.prototype.toString.call(n))return new Date(NaN);var r,i=j(n);if(i.date){var a=C(i.date,o);r=F(a.restDateString,a.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var l,u=r.getTime(),d=0;if(i.time&&(d=P(i.time),isNaN(d)))return new Date(NaN);if(!i.timezone){var v=new Date(u+d),c=new Date(0);return c.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),c.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),c}return l=U(i.timezone),isNaN(l)?new Date(NaN):new Date(u+d+l)}var S={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},M=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,T=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j(n){var e,t={},o=n.split(S.dateTimeDelimiter);if(o.length>2)return t;if(/:/.test(o[0])?e=o[0]:(t.date=o[0],e=o[1],S.timeZoneDelimiter.test(t.date)&&(t.date=n.split(S.timeZoneDelimiter)[0],e=n.substr(t.date.length,n.length))),e){var r=S.timezone.exec(e);r?(t.time=e.replace(r[1],""),t.timezone=r[1]):t.time=e}return t}function C(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=n.match(t);if(!o)return{year:NaN,restDateString:""};var r=o[1]?parseInt(o[1]):null,i=o[2]?parseInt(o[2]):null;return{year:null===i?r:100*i,restDateString:n.slice((o[1]||o[2]).length)}}function F(n,e){if(null===e)return new Date(NaN);var t=n.match(M);if(!t)return new Date(NaN);var o=!!t[4],r=I(t[1]),i=I(t[2])-1,a=I(t[3]),l=I(t[4]),u=I(t[5])-1;if(o)return function(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}(0,l,u)?function(n,e,t){var o=new Date(0);o.setUTCFullYear(n,0,4);var r=o.getUTCDay()||7,i=7*(e-1)+t+1-r;return o.setUTCDate(o.getUTCDate()+i),o}(e,l,u):new Date(NaN);var d=new Date(0);return function(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(E[e]||(A(n)?29:28))}(e,i,a)&&function(n,e){return e>=1&&e<=(A(n)?366:365)}(e,r)?(d.setUTCFullYear(e,i,Math.max(r,a)),d):new Date(NaN)}function I(n){return n?parseInt(n):1}function P(n){var e=n.match(k);if(!e)return NaN;var t=O(e[1]),o=O(e[2]),r=O(e[3]);return function(n,e,t){if(24===n)return 0===e&&0===t;return t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}(t,o,r)?t*w+6e4*o+1e3*r:NaN}function O(n){return n&&parseFloat(n.replace(",","."))||0}function U(n){if("Z"===n)return 0;var e=n.match(T);if(!e)return 0;var t="+"===e[1]?-1:1,o=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return function(n,e){return e>=0&&e<=59}(0,r)?t*(o*w+6e4*r):NaN}var E=[31,null,31,30,31,30,31,31,30,31,30,31];function A(n){return n%400===0||n%4===0&&n%100!==0}function R(n){return R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},R(n)}function Y(n){x(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||"object"===R(n)&&"[object Date]"===e?new Date(n.getTime()):"number"===typeof n||"[object Number]"===e?new Date(n):("string"!==typeof n&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function H(n){return H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},H(n)}function L(n){return x(1,arguments),n instanceof Date||"object"===H(n)&&"[object Date]"===Object.prototype.toString.call(n)}function Z(n){if(x(1,arguments),!L(n)&&"number"!==typeof n)return!1;var e=Y(n);return!isNaN(Number(e))}function $(n,e){for(var t=n<0?"-":"",o=Math.abs(n).toString();o.length<e;)o="0"+o;return t+o}function z(n,e){var t,o;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=Y(n);if(!Z(r))throw new RangeError("Invalid time value");var i=String(null!==(t=null===e||void 0===e?void 0:e.format)&&void 0!==t?t:"extended"),a=String(null!==(o=null===e||void 0===e?void 0:e.representation)&&void 0!==o?o:"complete");if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==a&&"time"!==a&&"complete"!==a)throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",u="extended"===i?"-":"",d="extended"===i?":":"";if("time"!==a){var v=$(r.getDate(),2),c=$(r.getMonth()+1,2),s=$(r.getFullYear(),4);l="".concat(s).concat(u).concat(c).concat(u).concat(v)}if("date"!==a){var f=$(r.getHours(),2),y=$(r.getMinutes(),2),h=$(r.getSeconds(),2),m=""===l?"":" ";l="".concat(l).concat(m).concat(f).concat(d).concat(y).concat(d).concat(h)}return l}function B(n,e){x(2,arguments);var t=Y(n),o=D(e);return isNaN(o)?new Date(NaN):o?(t.setDate(t.getDate()+o),t):t}var G=[47178,85497,47273],W=0,q=[],K=new l("CatchOfTheDay",5,(function(){return G}),(function(n){var e;if(null!==n&&void 0!==n&&null!==(e=n.observed_on_details)&&void 0!==e&&e.date){var t,r,i,a=o(null!==(t=null===n||void 0===n||null===(r=n.taxon)||void 0===r?void 0:r.ancestor_ids)&&void 0!==t?t:[]);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(G.includes(l)){var u=n.observed_on_details.date;if(!q.includes(u)){if(q.push(u),1===q.length)return W=1,1;for(var d=N(u),v=1;q.includes(z(B(d,v),{representation:"date"}));)v++;if(v>W)return W=v,1}}}}catch(c){a.e(c)}finally{a.f()}}return 0}),(function(){W=0,q=[]})),J=[],Q=[],V=new l("CatsAndDogs",9,(function(){return[41944,42043]}),(function(n){var e;if(null!==(e=n.observed_on_details)&&void 0!==e&&e.date){var t,r,i,a=o(null!==(t=null===n||void 0===n||null===(r=n.taxon)||void 0===r?void 0:r.ancestor_ids)&&void 0!==t?t:[]);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(41944===l){var u=X(n);if(!J.includes(u)&&(J.push(u),Q.includes(u)))return 1}else if(42043===l){var d=X(n);if(!Q.includes(d)&&(Q.push(d),J.includes(d)))return 1}}}catch(v){a.e(v)}finally{a.f()}}return 0}),(function(){J=[],Q=[]}));function X(n){var e,t;return null!==(e=n.observed_on_details)&&void 0!==e&&e.date?null===(t=n.observed_on_details)||void 0===t?void 0:t.date:"unknown"}var nn=[3726,23,4929],en=new l("CraneyStorker",24,(function(){return nn}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(nn.includes(a))return 1}}catch(l){i.e(l)}finally{i.f()}return 0})),tn=[],on=null,rn=null,an=new l("DailyLife",24,(function(){return[]}),(function(n){var e,t,o,r,i=null!==(e=null===n||void 0===n||null===(t=n.observed_on_details)||void 0===t?void 0:t.date)&&void 0!==e?e:on;on!==i&&(on=i,tn=[]);var a,l=void 0;if((null===n||void 0===n||null===(o=n.taxon)||void 0===o?void 0:o.rank_level)===h)l=null!==(a=n.taxon.id)&&void 0!==a?a:0;else if(5===(null===n||void 0===n||null===(r=n.taxon)||void 0===r?void 0:r.rank_level)){var u,d;l=null!==(u=null===n||void 0===n||null===(d=n.taxon)||void 0===d?void 0:d.parent_id)&&void 0!==u?u:0}return l&&(tn.includes(l)||tn.push(l),tn.length>=24&&rn!==on)?(rn=on,1):0}),(function(){tn=[],on=null,rn=null})),ln=new l("DaisyTown",77,(function(){return[47604]}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){if(47604===r.value)return 1}}catch(a){i.e(a)}finally{i.f()}return 0})),un=[],dn=null,vn=null,cn=new l("EarlyBird",7,(function(){return[3,47491]}),(function(n){var e,t;if((null!==(e=null===n||void 0===n||null===(t=n.observed_on_details)||void 0===t?void 0:t.hour)&&void 0!==e?e:99)<=7){var r,i,a,l=o(null!==(r=null===n||void 0===n||null===(i=n.taxon)||void 0===i?void 0:i.ancestor_ids)&&void 0!==r?r:[]);try{for(l.s();!(a=l.n()).done;){var u,d,v=a.value;if(3===v)dn=null!==(u=null===n||void 0===n||null===(d=n.observed_on_details)||void 0===d?void 0:d.date)&&void 0!==u?u:null;else if(47491===v){var c,s;vn=null!==(c=null===n||void 0===n||null===(s=n.observed_on_details)||void 0===s?void 0:s.date)&&void 0!==c?c:null}if(dn&&vn&&dn===vn&&!un.includes(dn))return un.push(dn),1}}catch(f){l.e(f)}finally{l.f()}}return 0}),(function(){un=[],dn=null,vn=null})),sn=[118903,47336,538904],fn="-1|-1",yn=0,hn=0,mn=new l("EmployeeOfTheMonth",31,(function(){return sn}),(function(n){var e,t,r,i,a,l,u="".concat(null!==(e=null===(t=n.observed_on_details)||void 0===t?void 0:t.year)&&void 0!==e?e:-1,"|").concat(null!==(r=null===(i=n.observed_on_details)||void 0===i?void 0:i.month)&&void 0!==r?r:-1);fn!==u&&(fn=u,yn=0);var d,v=o(null!==(a=null===n||void 0===n||null===(l=n.taxon)||void 0===l?void 0:l.ancestor_ids)&&void 0!==a?a:[]);try{for(v.s();!(d=v.n()).done;){var c=d.value;if(sn.includes(c)&&++yn>hn)return hn=yn,1}}catch(s){v.e(s)}finally{v.f()}return 0}),(function(){fn="-1|-1",yn=0,hn=0})),pn=[],gn=new l("FlowerChild",25,(function(){return[47125]}),(function(n,e){var t,r,i;if((null!==(t=null===n||void 0===n||null===(r=n.taxon)||void 0===r?void 0:r.rank_level)&&void 0!==t?t:999)<=40&&(null!==n&&void 0!==n&&null!==(i=n.taxon)&&void 0!==i&&i.ancestor_ids&&n.taxon.ancestor_ids.length>3)){var a,l=!1,u=o(n.taxon.ancestor_ids);try{for(u.s();!(a=u.n()).done;){if(47125===a.value){l=!0;break}}}catch(f){u.e(f)}finally{u.f()}if(l){var d,v=o(n.taxon.ancestor_ids.slice(3,Math.min(7,n.taxon.ancestor_ids.length)));try{var c=function(){var t,o=d.value,r=null===(t=e.find((function(n){return n.taxonID===o})))||void 0===t?void 0:t.rank;if(r){if(40===r&&!pn.includes(o))return pn.push(o),{v:1};if(r<=40)return"break"}else console.log("Taxon Rank not found for taxon ".concat(o," on observation ").concat(n.id))};for(v.s();!(d=v.n()).done;){var s=c();if("break"===s)break;if("object"===typeof s)return s.v}}catch(f){v.e(f)}finally{v.f()}}}return 0}),(function(){pn=[]})),bn=[],_n=new l("ForeverSpring",52,(function(){return[47125]}),(function(n){var e,t=null===(e=n.observed_on_details)||void 0===e?void 0:e.week;if(t){var r;t>52&&(t=52);var i,a=o(null!==(r=n.annotations)&&void 0!==r?r:[]);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(12===l.controlled_attribute_id&&13===l.controlled_value_id){var u,d,v,c=o(null!==(u=null===n||void 0===n||null===(d=n.taxon)||void 0===d?void 0:d.ancestor_ids)&&void 0!==u?u:[]);try{for(c.s();!(v=c.n()).done;){if(47125===v.value&&!bn.includes(t))return bn.push(t),1}}catch(s){c.e(s)}finally{c.f()}}}}catch(s){a.e(s)}finally{a.f()}}return 0}),(function(){bn=[]})),wn=new l("HeartOfTheMatter",13,(function(){return[]}),(function(n){var e;return!0===(null===n||void 0===n||null===(e=n.taxon)||void 0===e?void 0:e.threatened)?1:0})),xn=[47398,39532,47114,61415],Dn=new Map,Nn=0,Sn=new l("HomelyHermit",24,(function(){return xn}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){var a,l=r.value;if(xn.includes(l))if(null!==n&&void 0!==n&&null!==(a=n.observed_on_details)&&void 0!==a&&a.date){var u,d=n.observed_on_details.date,v=new Date(d),c=(null!==(u=Dn.get(d))&&void 0!==u?u:0)+1;Dn.set(d,c);for(var s=c,f=1;f<=6;f++){var y=Dn.get(z(B(v,f),{representation:"date"}));y&&(s+=y)}if(s>Nn)return Nn=s,1}}}catch(h){i.e(h)}finally{i.f()}return 0}),(function(){Dn.clear(),Nn=0})),Mn=new l("KingFisher",33,(function(){return[47178]}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){if(47178===r.value)return 1}}catch(a){i.e(a)}finally{i.f()}return 0})),kn=[311249,54743],Tn=new l("LichenMoss",31,(function(){return kn}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(kn.includes(a))return 1}}catch(l){i.e(l)}finally{i.f()}return 0})),jn=[],Cn=0,Fn=0,In=new l("LifeLister",365,(function(){return[]}),(function(n){var e,t,o,r,i;if(null!==(e=n.observed_on_details)&&void 0!==e&&e.year&&(null!==(t=n.taxon)&&void 0!==t&&t.id&&(null===n||void 0===n||null===(o=n.taxon)||void 0===o?void 0:o.rank_level)===h||null!==(r=n.taxon)&&void 0!==r&&r.parent_id&&5===(null===n||void 0===n||null===(i=n.taxon)||void 0===i?void 0:i.rank_level))){var a,l,u,d,v;if(Cn!==(null===(a=n.observed_on_details)||void 0===a?void 0:a.year))jn=[],Cn=null===(v=n.observed_on_details)||void 0===v?void 0:v.year;if(null!==(l=n.taxon)&&void 0!==l&&l.id&&(null===n||void 0===n||null===(u=n.taxon)||void 0===u?void 0:u.rank_level)===h){var c=n.taxon.id;jn.includes(c)||jn.push(c)}else if(null!==n&&void 0!==n&&null!==(d=n.taxon)&&void 0!==d&&d.parent_id){var s,f,y,m=null===n||void 0===n||null===(s=n.taxon)||void 0===s?void 0:s.parent_id;5!==(null===n||void 0===n||null===(f=n.taxon)||void 0===f?void 0:f.rank_level)||jn.includes(m)?(null===n||void 0===n||null===(y=n.taxon)||void 0===y?void 0:y.rank_level)<h&&!jn.includes(m)&&jn.push(m):jn.push(m)}if(Fn<jn.length)return Fn=jn.length,1}return 0}),(function(){jn=[],Cn=0,Fn=0})),Pn=[123880,67333,126917,124337,151817,47686,54960,131236],On=new l("Microcosm",12,(function(){return Pn}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(Pn.includes(a))return 1}}catch(l){i.e(l)}finally{i.f()}return 0})),Un=0,En=new l("NameGiver",2e3,(function(){return[]}),(function(n){var e,t;return 0===Un?Un=null!==(e=null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.identifications_count)&&void 0!==e?e:0:0}),(function(){Un=0})),An=[19350,19664,19376,19351],Rn=new l("NightOwl",12,(function(){return An}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){var a,l,u,d,v=r.value;if(An.includes(v)&&((null!==(a=null===n||void 0===n||null===(l=n.observed_on_details)||void 0===l?void 0:l.hour)&&void 0!==a?a:99)<=6||(null!==(u=null===n||void 0===n||null===(d=n.observed_on_details)||void 0===d?void 0:d.hour)&&void 0!==u?u:-99)>=18))return 1}}catch(c){i.e(c)}finally{i.f()}return 0})),Yn=[47158,144128,47119,243773],Hn=new l("NotABug",201,(function(){return[].concat(Yn,[61267])}),(function(n){var e,t,r,i=!1,a=!1,l=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(l.s();!(r=l.n()).done;){var u=r.value;Yn.includes(u)&&(i=!0),61267===u&&(a=!0)}}catch(d){l.e(d)}finally{l.f()}return i&&!a?1:0})),Ln=new l("NotSeeingIsBelieving",50,(function(){return[]}),(function(n){var e,t,r=o(null!==(e=n.annotations)&&void 0!==e?e:[]);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(22===i.controlled_attribute_id&&24!==i.controlled_value_id)return 1}}catch(a){r.e(a)}finally{r.f()}return 0}));function Zn(n,e){x(2,arguments);var t=Y(n),o=Y(e);return t.getFullYear()-o.getFullYear()}function $n(n,e){x(2,arguments);var t=Y(n),o=Y(e),r=t.getTime()-o.getTime();return r<0?-1:r>0?1:r}function zn(n,e){x(2,arguments);var t=Y(n),o=Y(e),r=$n(t,o),i=Math.abs(Zn(t,o));t.setFullYear(1584),o.setFullYear(1584);var a=$n(t,o)===-r,l=r*(i-Number(a));return 0===l?0:l}var Bn=0,Gn=new l("OldGeeser",10,(function(){return[6912]}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){if(6912===r.value){var a,l,u,d,v,c,s=null!==(a=null===n||void 0===n||null===(l=n.observed_on_details)||void 0===l?void 0:l.year)&&void 0!==a?a:-1,f=null!==(u=null===n||void 0===n||null===(d=n.observed_on_details)||void 0===d?void 0:d.month)&&void 0!==u?u:-1,y=null!==(v=null===n||void 0===n||null===(c=n.observed_on_details)||void 0===c?void 0:c.day)&&void 0!==v?v:-1;if(s>=0&&f>=0&&y>=0){var h=new Date(s,f,y),m=new Date;if(h<m){var p=zn(m,h);if(p>Bn){var g=p-Bn;return Bn=p,g}}}}}}catch(b){i.e(b)}finally{i.f()}return 0}),(function(){Bn=0})),Wn=[],qn=new l("PlentyOfPlaces",20,(function(){return[]}),(function(n){if(n.geojson&&n.geojson.coordinates){var e=Math.round(Math.trunc(10*parseFloat(n.geojson.coordinates[0]))/10*2)/2,t=Math.round(Math.trunc(10*parseFloat(n.geojson.coordinates[1]))/10*2)/2,o="".concat(t,"|").concat(e);if(!Wn.includes(o))return Wn.push(o),1}return 0}),(function(){Wn=[]})),Kn=new l("RatKing",25,(function(){return[43698]}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){if(43698===r.value)return 1}}catch(a){i.e(a)}finally{i.f()}return 0})),Jn=[],Qn=new l("Scatter",16,(function(){return[]}),(function(n){var e,t;if(n.annotations&&(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.rank_level)&&void 0!==e?e:999)<=h&&n.geojson&&n.geojson.coordinates){var r,i=o(n.annotations);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(22===a.controlled_attribute_id&&25===a.controlled_value_id){var l,u,d=Math.round(Math.trunc(1e3*parseFloat(null===(l=n.geojson)||void 0===l?void 0:l.coordinates[0]))/1e3*4)/4,v=Math.round(Math.trunc(1e3*parseFloat(null===(u=n.geojson)||void 0===u?void 0:u.coordinates[1]))/1e3*4)/4,c="".concat(v,"|").concat(d);if(!Jn.includes(c))return Jn.push(c),1}}}catch(s){i.e(s)}finally{i.f()}}return 0}),(function(){Jn=[]})),Vn=new l("SelfPollinator",50,(function(){return[]}),(function(n){var e;if(null!==n&&void 0!==n&&n.comments&&null!==n&&void 0!==n&&null!==(e=n.user)&&void 0!==e&&e.id){var t,r,i=o(null!==(t=null===n||void 0===n?void 0:n.comments)&&void 0!==t?t:[]);try{for(i.s();!(r=i.n()).done;){var a,l=r.value;if(null!==l&&void 0!==l&&null!==(a=l.user)&&void 0!==a&&a.id&&l.user.id===n.user.id)return 1}}catch(u){i.e(u)}finally{i.f()}}return 0})),Xn=new l("SocialButterfly",30,(function(){return[47224]}),(function(n){var e;if((null!==(e=null===n||void 0===n?void 0:n.comments_count)&&void 0!==e?e:0)>0){var t,r,i,a=o(null!==(t=null===n||void 0===n||null===(r=n.taxon)||void 0===r?void 0:r.ancestor_ids)&&void 0!==t?t:[]);try{for(a.s();!(i=a.n()).done;){if(47224===i.value)return 1}}catch(l){a.e(l)}finally{a.f()}}return 0})),ne=new Map,ee=0,te=new l("Strider",500,(function(){return[]}),(function(n){var e;if(n.geojson&&n.geojson.coordinates&&2===n.geojson.coordinates.length&&null!==n&&void 0!==n&&null!==(e=n.observed_on_details)&&void 0!==e&&e.date){var t,r=n.observed_on_details.date,i=ne.get(r);i||(i=[],ne.set(r,i));var a={obsID:null!==(t=n.id)&&void 0!==t?t:0,lon:parseFloat(n.geojson.coordinates[0]),lat:parseFloat(n.geojson.coordinates[1])};if(i.push(a),i.length>1){var l,u=o(i);try{for(u.s();!(l=u.n()).done;){var d=l.value,v=Math.round(m(a.lat,a.lon,d.lat,d.lon));if(v>ee){var c=v-ee;return ee=v,te.getData().observations=[d.obsID],c}}}catch(s){u.e(s)}finally{u.f()}}}return 0}),(function(){ne.clear(),ee=0})),oe=te,re=481959,ie=[],ae=new l("SuperStar",5,(function(){return[re]}),(function(n){var e;if(null!==n&&void 0!==n&&null!==(e=n.taxon)&&void 0!==e&&e.rank_level&&n.taxon.rank_level<=h){var t,r,i=n.taxon.rank_level;if(null!==n&&void 0!==n&&null!==(t=n.taxon)&&void 0!==t&&t.id&&i===h){var a,l,u,d=o(null!==(a=null===n||void 0===n||null===(l=n.taxon)||void 0===l?void 0:l.ancestor_ids)&&void 0!==a?a:[]);try{for(d.s();!(u=d.n()).done;){var v=u.value;if(re===v){var c=n.taxon.id;if(!ie.includes(c))return ie.push(c),1}}}catch(b){d.e(b)}finally{d.f()}}else if(null!==n&&void 0!==n&&null!==(r=n.taxon)&&void 0!==r&&r.parent_id&&(5===i||i<h)){var s,f,y,m=o(null!==(s=null===n||void 0===n||null===(f=n.taxon)||void 0===f?void 0:f.ancestor_ids)&&void 0!==s?s:[]);try{for(m.s();!(y=m.n()).done;){var p=y.value;if(re===p){var g=n.taxon.parent_id;if(!ie.includes(g))return ie.push(g),1}}}catch(b){m.e(b)}finally{m.f()}}}return 0}),(function(){ie=[]})),le=[47459,47797,48332],ue=[],de=new l("TentacleSuckers",8,(function(){return le}),(function(n){var e;if(null!==n&&void 0!==n&&null!==(e=n.taxon)&&void 0!==e&&e.rank_level&&n.taxon.rank_level<=h){var t,r,i,a=o(null!==(t=null===n||void 0===n||null===(r=n.taxon)||void 0===r?void 0:r.ancestor_ids)&&void 0!==t?t:[]);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(le.includes(l)){var u,d,v=void 0;if(null!==n&&void 0!==n&&null!==(u=n.taxon)&&void 0!==u&&u.id&&n.taxon.rank_level===h?v=n.taxon.id:null!==n&&void 0!==n&&null!==(d=n.taxon)&&void 0!==d&&d.parent_id&&(5===n.taxon.rank_level||n.taxon.rank_level<h)&&(v=n.taxon.parent_id),v&&!ue.includes(v))return ue.push(v),1}}}catch(c){a.e(c)}finally{a.f()}}return 0}),(function(){ue=[]})),ve=[20979,47169],ce=new l("ToadsAndToadstools",42,(function(){return ve}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(ve.includes(a))return 1}}catch(l){i.e(l)}finally{i.f()}return 0})),se=new l("TooManyBugs",99,(function(){return[61267]}),(function(n){var e,t,r,i=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(i.s();!(r=i.n()).done;){if(61267===r.value)return 1}}catch(a){i.e(a)}finally{i.f()}return 0})),fe=[42478,43253,46927,71384],ye=[152871,46306,526556],he=0,me=0,pe=0,ge=new l("TryMammals",9,(function(){return[].concat(fe,[40268],ye)}),(function(n){var e,t,r,i=Math.min(he,me,pe),a=o(null!==(e=null===n||void 0===n||null===(t=n.taxon)||void 0===t?void 0:t.ancestor_ids)&&void 0!==e?e:[]);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(fe.includes(l)){he++;break}if(ye.includes(l)){me++;break}if(40268===l){pe++;break}}}catch(u){a.e(u)}finally{a.f()}return i<Math.min(he,me,pe)?1:0}),(function(){he=0,me=0,pe=0})),be=[],_e=[In,Vn,ge,Rn,Mn,ln,wn,Xn,d,En,Kn,en,se,Hn,Tn,ce,gn,new l("WorldClass",21,(function(){return[]}),(function(n,e){var t,r,i;if((null!==(t=null===n||void 0===n||null===(r=n.taxon)||void 0===r?void 0:r.rank_level)&&void 0!==t?t:999)<=50&&(null!==n&&void 0!==n&&null!==(i=n.taxon)&&void 0!==i&&i.ancestor_ids&&n.taxon.ancestor_ids.length>2)){var a,l=o(n.taxon.ancestor_ids.slice(2,Math.min(6,n.taxon.ancestor_ids.length)));try{var u=function(){var t,o=a.value,r=null===(t=e.find((function(n){return n.taxonID===o})))||void 0===t?void 0:t.rank;if(r){if(50===r&&!be.includes(o))return be.push(o),{v:1};if(r<=50)return"break"}else console.log("Taxon Rank not found for taxon ".concat(o," on observation ").concat(n.id))};for(l.s();!(a=l.n()).done;){var d=u();if("break"===d)break;if("object"===typeof d)return d.v}}catch(v){l.e(v)}finally{l.f()}}return 0}),(function(){be=[]})),an,_,K,cn,de,Sn,On,mn,oe,_n,Ln,qn,y,V,ae,Gn,Qn];function we(){return _e}function xe(){var n,e=o(_e);try{for(e.s();!(n=e.n()).done;){n.value.reset()}}catch(t){e.e(t)}finally{e.f()}return _e.map((function(n){return n.data}))}function De(n,e){var t,r=o(_e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,l=o(n);try{for(l.s();!(i=l.n()).done;){var u=i.value;a.evaluate(u,e)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}return Promise.resolve(_e.map((function(n){return n.data})))}addEventListener("message",(function(n){var t,o=n.data,r=o.type,i=o.method,a=o.id,l=o.params;"RPC"===r&&i&&((t=e[i])?Promise.resolve().then((function(){return t.apply(e,l)})):Promise.reject("No such method")).then((function(n){postMessage({type:"RPC",id:a,result:n})})).catch((function(n){var e={message:n};n.stack&&(e.message=n.message,e.stack=n.stack,e.name=n.name),postMessage({type:"RPC",id:a,error:e})}))})),postMessage({type:"RPC",method:"ready"})}();
//# sourceMappingURL=b9db12f6b63c2e6a681a.worker.js.map